{% extends 'base_professor.html' %}
{% block title %}{{objecto.tituloCurso}}  {% endblock %}
{% load static %}
{% block content %}

<style media="screen">
	label.labelFile {
	background-color: #3370b2;
	color: white;
	padding: 0.3rem;
	font-family: sans-serif;
	border-radius: 0.3rem;
	cursor: pointer;
	margin-top: 1rem;
  }

  #file-chosen{
	margin-left: 0.3rem;
	font-family: sans-serif;
  }

  .contact-info{
	display: none;
  }
  </style>

<!-- fim banner inicial -->

<ul id="slide-alunos" class="sidenav">
	<li><a class="subheader negrito">{{matrilados}} Alunos inscritos:</a></li>
	{% if alunos %}
		{% for item in alunos %}
    <li class="borda-baixo"><a href="{% url 'professor:perfil-estudante' %} " class="waves-effect">{{item.user.first_name}} {{item.user.last_name}} </a></li>
		{% endfor %}
		{% else %}
		<li class="borda-baixo"><a href="#!" class="waves-effect">Sem alunos matriculados</a></li>

	{% endif %}
  </ul>



<div class="container espaco-m-top-1">

  <div class="row">
    <div class="col s12">
      <div class="right-align right">
        <a href="" class="btn btn-small borda-left-top-2px borda grey-text text-darken-4 negrito z-depth-0 white"><span class="fa fa-eye-slash"></span> desabilitar visibilidade</a>
				<a href="" class="btn btn-small borda grey-text text-darken-4 negrito z-depth-0 white"><span class="fa fa-edit"></span> editar detalhes</a>
        <a href="{% url 'professor:turmas' %} " class="btn btn-small borda grey-text text-darken-4 negrito z-depth-0 white"><span class="fa fa-plus"></span> Adicionar curso a turma</a>
				<a href="{% url 'professor:aviso-curso' pk=objecto.id %} " class="btn btn-small borda-right-top-2px z-depth-0 negrito red darken-4"><span class="fa fa-trash"></span> eliminar curso</a>

      </div>
    </div>
    <div class="col s12">
      <h4 class="negrito texto-2">{{objecto.tituloCurso}}  <span class="right texto-0">Total de aulas: {{totVideos}} </span></h4>
			<p class="texto-0 negrito">
				<a href="#"  data-target="slide-alunos" class="sidenav-trigger"><span class="fa fa-users"></span> Total de alunos: {{matrilados}} </a>
				<span class="">·</span>
				<a href="#" class=""><span class="fa fa-comment"></span> Comentários sobre o curso: 3</a>
			</p>
      <p>{{objecto.descricao}} </p>
    </div>
    <div class="col s12 m12 l3 borda-right">
      <h6 class="negrito">Especialidades</h6>
      <hr>
      {% if objecto.informatica == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Informática
      </div>
      {% endif %}
      {% if objecto.petroleo == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Petróleo
      </div>
      {% endif %}
      {% if objecto.geologia == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Geologia
      </div>
      {% endif %}
      {% if objecto.geologia_minas == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Geologia e Minas
      </div>
      {% endif %}
      {% if objecto.construcao_civil == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Construção civíl
      </div>
      {% endif %}
      {% if objecto.agronoma == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Agrónoma
      </div>
      {% endif %}

      {% if objecto.medicina_geral == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Medicina Geral
      </div>
      {% endif %}
      {% if objecto.medicina_dentaria == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Medicina dentária
      </div>
      {% endif %}
      {% if objecto.enfermagem == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Enfermagem
      </div>
      {% endif %}
      {% if objecto.fisioterapia == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Fisioterapia
      </div>
      {% endif %}

      {% if objecto.analises_clinicas == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Análises clínica
      </div>
      {% endif %}

      {% if objecto.psicologia_forense == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Psicologia Forense
      </div>
      {% endif %}

      {% if objecto.psicologia_clinica == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Psicologia clínica
      </div>
      {% endif %}

      {% if objecto.direito == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Direito
      </div>
      {% endif %}
      {% if objecto.ciencias_politicas == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Ciências Politícas
      </div>
      {% endif %}

      {% if objecto.relacoes_publicas == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Relações Públicas
      </div>
      {% endif %}

      {% if objecto.relacoes_internacionais == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Relações Internacionais
      </div>
      {% endif %}

      {% if objecto.gestao_empresarial == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Gestão empresarial
      </div>
      {% endif %}

      {% if objecto.economia == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Economia
      </div>
      {% endif %}

      {% if objecto.gestao_administracao_empresas == True %}
      <div class="chip">
        <i class="fa fa-check"></i>
        Gestão e Administração de empresas
      </div>
      {% endif %}

      <h6 class="negrito">Universidades</h6>
      <hr>

      {% if objecto.utanga == True %}
        <span style="" class="white-text texto-00 badge-novo brown borda-1">Universidade Técnica de Angola</span>
      {% endif %}
      {% if objecto.ucan == True %}
        <span style="" class="white-text texto-00 badge-novo blue borda-1">Universidade Católica de Angola</span>
        {% endif %}
      {% if objecto.uan == True %}
        <span style="" class="white-text texto-00 badge-novo blue darken-4 borda-1">Universidade Agostinho Neto</span>
        {% endif %}
        {% if objecto.uPiaget == True %}
        <span style="" class="white-text texto-00 badge-novo deep-orange accent-4 borda-1">Universidade Jean Piaget</span>
        {% endif %}

    </div>
    <div class="col s12 m12 l9">
      {% if videos %}
        <table class=" highlight">
          <thead>
            <tr>
              <th colspan="3" class="grey lighten-4"><a href="#modal1" class="btn yellow darken-3 right modal-trigger borda-3 z-depth-0"><span class="fa fa-plus"></span> Adicionar nova aula ao curso</a></th>
            </tr>
            <tr>
              <th>#</th>
              <th>Aula</th>
            </tr>
            <tbody>

              {% for item in videos %}
              <tr>
                <td>{{forloop.counter}} </td>
                <td><a href="{% url 'professor:detalhes-video' pk=item.id %} ">{{item.tituloVideo}}</a> </td>
              </tr>
              {% endfor %}
            </tbody>
          </thead>
        </table>
      {% else %}
      <div style="border: 1px solid #40c4ff; padding: 0px;" class="blue borda-1 lighten-5">
        <div class="container center-align">
            <h5 class="negrito-400"><i class="fa fa-video-slash"></i> Nenhuma aula registada por enquanto</h5>
        		<div class="texto-1">
							<p>As aulas registadas aparecem aqui. </p>
							<p> <a href="#modal1" class="modal-trigger blue darken-1 borda-3 btn z-depth-0"><span class="fa fa-plus-circle"></span> Adicionar aula ao curso</a></p>
        		</div>
        </div>
    </div>
      {% endif %}
    </div>


  </div>
</div>

<div id="modal1" class="modal">
  <form action="" method="POST" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="modal-content">
        <h4>Registar nova aula</h4>
        <div>
          <label for="">Título da aula</label>
          <input type="text" class="browser-default estilo-input" name="tituloVideo" id="id_tituloVideo" placeholder="Titulo da aula" required>
        </div>
        <div class="espaco-m-top-1">
          <label for="">Descrição da aula</label>
          <textarea type="text" rows="6" class="browser-default estilo-input" name="descricao" id="id_descricao" placeholder="Diga aos seus alunos o que será abordado nesta aula" required></textarea>
        </div>

        <div class="espaco-m-top-1 center center-block">
					<label for="">Seleccione o aquivo da aula da aula</label> <br>
          <label for="" class="red-text text-darken-3">*Este campo é obrigatório</label> <br>
            <div class="espaco-m-top-1">
            		<!-- {{form.video}} -->
								<div class="center center-block">
								<input type="file"  name="video" id="id_video" hidden required />
									<label class="labelFile pulse" for="id_video" name="video"><span class="fa fa-photo"></span> Seleccione um vídeo</label> <br>
								<span id="file-chosen">nenhuma vídeo seleccionado</span>
								</div>
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <a href="#!" class="borda-left-top-2px borda modal-close waves-effect borda red-text btn-flat white">Fechar</a>
        <button type="submit" class="borda-right-top-2px borda waves-effect green btn z-depth-0"><span class="fa fa-save"></span> Salvar</button>
      </div>
  </form>
</div>

<script>
   document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.modal');
    var instances = M.Modal.init(elems, options);
  });

  // Or with jQuery

  $(document).ready(function(){
    $('.modal').modal();
  });
</script>

<script type="text/javascript">
	const actualBtn = document.getElementById('id_video');

	const fileChosen = document.getElementById('file-chosen');

	actualBtn.addEventListener('change', function(){
	  fileChosen.textContent = this.files[0].name
	})
	</script>

{% endblock %}
